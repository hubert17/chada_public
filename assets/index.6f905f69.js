import{css as e}from"https://cdn.jsdelivr.net/npm/goober@2.0.33/dist/goober.modern.js";import t from"https://cdn.jsdelivr.net/npm/vue-recaptcha@1.3.0/dist/vue-recaptcha.es.js";import n from"https://cdn.jsdelivr.net/npm/js-cookie@3.0.0-rc.1/dist/js.cookie.min.mjs";var i={name:"Home",data:()=>({title:"Home page",bingPhotos:[]}),methods:{getBingWallpapers(){if(navigator.onLine)axios.get("https://api45gabs.azurewebsites.net/api/sample/bingphotos").then((e=>{this.bingPhotos=e.data,this.saveToLocal(this.bingPhotos)}));else{let e=JSON.parse(localStorage.getItem("bingphotos"));e?this.bingPhotos=e:axios.get("data/bingPhotos.json").then((e=>{this.bingPhotos=e.data,this.saveToLocal(this.bingPhotos)})).catch((e=>{console.log("Bing photos unavailable.")}))}},saveToLocal(e){localStorage.setItem("bingphotos",JSON.stringify(e))}},mounted(){this.getBingWallpapers()},template:'\n\n<v-container>\n        <h1>\n            {{ title }}\n        </h1>\n        <v-row>\n            <v-col sm="4" v-for="photo in bingPhotos" :key="photo.startdate">\n                <v-card class="mx-auto">\n                    <v-img class="white--text align-end"  :src="\'https://www.bing.com\' + photo.url" >\n                        <v-card-title>{{ photo.title }}</v-card-title>\n                    </v-img>\n                    <v-card-subtitle class="pb-0"> {{ photo.copyright }} </v-card-subtitle>\n                    <v-card-actions>\n                      <v-spacer></v-spacer>\n                      <v-btn icon> <v-icon>mdi-heart</v-icon> </v-btn>\n                      <v-btn icon> <v-icon>mdi-bookmark</v-icon> </v-btn>\n                      <v-btn icon> <v-icon>mdi-share-variant</v-icon> </v-btn>\n                  </v-card-actions>\n                </v-card>\n            </v-col>\n        </v-row>\n    </v-container>\n\n    '};let o;const a={},s=function(e,t){if(!t)return e();if(void 0===o){const e=document.createElement("link").relList;o=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in a)return;a[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":o,t||(i.as="script",i.crossOrigin=""),i.href=e,document.head.appendChild(i),t?new Promise(((e,t)=>{i.addEventListener("load",e),i.addEventListener("error",t)})):void 0}))).then((()=>e()))};var r={name:"Settings",data:()=>({title:"Settings page"}),components:{BaseButton:()=>s((()=>import("./BaseButton.aa4da055.js")),void 0)},template:"\n\n<v-container>\n        <h1>\n            {{ title }}\n        </h1>\n        <v-row>\n            <v-col>\n                <BaseButton />\n            </v-col>\n        </v-row>\n</v-container>\n\n    "};var l={name:"Help",data:()=>({title:"Help page"}),template:`\n\n<v-container class=${e`

background-color: lightgrey;
.header {
    background: dodgerblue;
    color: white;
    padding: 1em;
}

`}>\n    <h1 class="header">\n        {{ title }}\n    </h1>\n</v-container>\n\n    `};Vue.use(Vuex);const c=new Vuex.Store({state:{appConfig:{name:"Chada!",baseUrl:"",apiBaseUrl:"https://api45gabs.azurewebsites.net",imgBaseUrl:"",storageName:"chadaapp",clientId:"951799207669-5nv7cv480db7drqavq7irtcqkcna6flh.apps.googleusercontent.com",newsApiKey:"1db81ac8b6b64bdd9dfb5bed2647f495",recaptchaKey:"6LcpHYQbAAAAAKcuAGS-Q_hlaVFAjHAkyQIUycIw"},authHeader:{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:null}},authHeaderForm:{headers:{"Content-Type":"multipart/form-data",Authorization:null}},user:null},getters:{appConfig:function(e){return e.appConfig},user:function(e){return e.user},authHeader:function(e){return e.authHeader},authHeaderForm:function(e){return e.authHeaderForm}},mutations:{setUser:function(e,t,n=!1){e.user=t,t&&t.token?(n||localStorage.setItem(e.appConfig.storageName,JSON.stringify(e.user)),e.authHeader.headers.Authorization="Bearer "+e.user.token,e.authHeaderForm.headers.Authorization="Bearer "+e.user.token):(e.authHeader.headers.Authorization=null,e.authHeaderForm.headers.Authorization=null,console.log("User has logged out."))}},actions:{}});var p={name:"News",data:()=>({title:"News",articles:[],errors:[],currentPage:1,busy:!1}),methods:{load(){this.busy=!0,axios.get("https://api45gabs.azurewebsites.net/api/sample/news?page="+this.currentPage+"&pageSize=10&apiKey="+c.getters.appConfig.newsApiKey).then((e=>{this.articles=[...this.articles,...e.data.articles],this.currentPage++,this.busy=!1})).catch((e=>{console.log(JSON.stringify(e))}))},show(e){"active"!==this.articles[e].source.id?this.articles[e].source.id="active":this.articles[e].source.id=null}},created(){this.load()},template:'\n\n    <v-container>\n\n    <div v-infinite-scroll="load" infinite-scroll-disabled="busy" infinite-scroll-distance="10">\n    <v-row align="center" class="mb-n6" v-for="(article, index) in articles" :key="article.title">\n        <v-col sm="8" offset-sm="2">\n            <v-card class="mx-auto" max-width="640">\n                <v-img v-if="article.urlToImage" :src="article.urlToImage" class="white--text align-end text-right" :height="$vuetify.breakpoint.smAndUp ? \'360px\' : \'200px\'" >\n                    <v-chip small color="secondary" class="white--text ma-1"> {{article.source.name}} </v-chip>\n                </v-img>\n\n                <v-card-title> {{ article.title }} </v-card-title>\n                <v-card-subtitle class="mb-n5"> {{ article.description }} </v-card-subtitle>\n                <v-card-actions>\n                <v-btn color="orange lighten-2" text :href="article.url" target="_blank" > Read More </v-btn>\n                <v-spacer></v-spacer>\n                <v-btn icon v-if="article.content" @click="show(index)" > <v-icon>{{ article.source.id === \'active\' ? \'mdi-chevron-up\' : \'mdi-chevron-down\' }}</v-icon> </v-btn>\n                </v-card-actions>\n\n                <v-expand-transition>\n                <div v-show="article.source.id === \'active\'">\n                    <v-divider></v-divider>\n                    <v-card-text> {{ article.content }} </v-card-text>\n                </div>\n                </v-expand-transition>\n            </v-card>\n        </v-col>\n    </v-row>\n</div>\n\n\n</v-container>\n\n'};var d={name:"Poordooytify",components:{VAudioPlayer:()=>s((()=>import("./VuetifyAudioPlayer.bf4c143a.js")),void 0)},data:()=>({title:"Poordooytify",isCors:!1,songs:[],current:0,currentSong:{},songSrc:"",allowNext:!1}),methods:{copyObject:function(e){return JSON.parse(JSON.stringify(e))},getSongs(){this.authHeader["Cache-Control"]="no-cache",axios.get(this.appConfig.apiBaseUrl+`/api/sample/poordooytify?timestamp=${(new Date).getTime()}`,this.authHeader).then((e=>{this.songs=e.data,this.setCurrentSong()}))},setCurrentSong(){let e=this.copyObject(this.songs[this.current]),t=this.copyObject(this.current<this.songs.length-1?this.songs[this.current+1]:null);this.createSongSrc(e,t)},createSongSrc(e,t){let n=this.isCors?this.appConfig.apiBaseUrl+"/api/sample/DropboxSongData?url=":"";if(!e&&!e.link)return void this.nextSrc();this.allowNext=!1;let i={responseType:"blob"},o=this;axios.get(n+e.link,i).then((function(a){var s=new window.FileReader;s.readAsDataURL(a.data),s.onload=function(){o.currentSong=e,o.songSrc="data:audio/ogg;base64,"+s.result.split(",")[1],o.setMediaSession(e),t.link?axios.get(n+t.link,i).then((()=>{o.allowNext=!0})).catch((()=>{o.allowNext=!0})):o.allowNext=!0}})).catch((e=>{console.log(e.message),e.message.startsWith("Request failed")?o.nextSrc():(o.isCors=!0,o.current=0,o.setCurrentSong()),o.allowNext=!0}))},nextSrc(){(this.songs.length-1!==this.current||this.allowNext)&&(this.current++,this.setCurrentSong())},prevSrc(){1!==this.current&&(this.current--,this.setCurrentSong())},setMediaSession(e){let t=this;"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e.title,artist:e.artist}),navigator.mediaSession.setActionHandler("previoustrack",t.nextSrc()),navigator.mediaSession.setActionHandler("nexttrack",t.nextSrc()))}},mounted(){this.getSongs()},computed:{appConfig:()=>c.getters.appConfig,authHeader:()=>c.getters.authHeader},template:`\n\n\n\n<div class=${e`

min-height:calc(100vh - 140px)

`}>\n    <v-audio-player\n        :src="songSrc"\n        :track-title="currentSong.title"\n        :track-subtitle="currentSong.artist"\n        allow-previous\n        allow-next\n        :compact="$vuetify.breakpoint.smAndDown"\n        :autoplay="true"\n        album-art="https://www.pngkit.com/png/detail/20-202815_vinyl-record-png-transparent-vinyl-png.png"\n        @next-audio="nextSrc()"\n        @previous-audio="prevSrc()"\n        prev-track-icon="mdi-skip-previous"\n        next-track-icon="mdi-skip-next"\n        back-forward-icon="mdi-rewind-5"\n        fast-forward-icon="fast-forward-5"\n        play-icon="mdi-play"\n        pause-icon="mdi-pause"\n        mute-volume-icon="mdi-volume-off"\n        low-volume-icon="mdi-volume-low"\n        medium-volume-icon="mdi-volume-medium"\n        high-volume-icon="mdi-volume-high"\n        ></v-audio-player>\n\n</div>\n\n    `};Vue.use(VueRouter);const v=[{title:"Home",icon:"home",path:"/",component:i},{title:"Poordooytify",icon:"library_music",path:"/poordooytify",component:d},{title:"News",icon:"article",path:"/news",component:p},{title:"Settings",icon:"settings",path:"/settings",component:r},{title:"Help",icon:"help_outline",path:"/help",component:l}],m=new VueRouter({base:window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/")+1),mode:"history",routes:v});var u={name:"App",data:()=>({isInstalled:!1,appDrawer:!0,showSideInfo:!0,learnings:[{title:"Vue",link:"https://vuejs.org/v2/guide/"},{title:"Vuetify",link:"https://vuetifyjs.com/en/introduction/why-vuetify/"},{title:"Github",link:"https://github.com/hubert17/GabsVuetifyNoCLINodeWebpack"}]}),watch:{$route(e,t){this.showSideInfo="/"===e.path&&this.$vuetify.breakpoint.smAndUp}},methods:{clickToggleDrawer:function(){this.showSideInfo?this.$root.$emit("appDrawer",!0):this.$root.$emit("appDrawer",!this.appDrawer)},gotoRoute(e){m.push({path:e}).catch((()=>{}))},logout(){c.commit("setUser",null),localStorage.removeItem(this.appConfig.storageName),m.push({path:"/"}).catch((()=>{}))},install(){this.$root.$emit("appInstall")},getPWADisplayMode(){let e="browser";const t=window.matchMedia("(display-mode: standalone)").matches;return document.referrer.startsWith("android-app://")?e="twa":(navigator.standalone||t)&&(e="standalone"),e}},mounted(){this.$vuetify.breakpoint.mdAndUp&&(this.appDrawer=!0),this.$root.$on("appDrawer",((e,t)=>{this.appDrawer=e})),this.$root.$on("isInstalled",(()=>{this.isInstalled=localStorage.getItem("pwa_"+window.location.hostname)||"browser"!==this.getPWADisplayMode()})),this.$root.$emit("isInstalled")},computed:{routes(){return this.$router.options.routes},appConfig:()=>c.getters.appConfig,user(){let e=c.getters.user;return e&&e.username||(e={username:"offline user"}),e}},components:{SideInfoPanel:{name:"SideInfoPanel",props:["TitleHeader","TitleText","DetailHeader","DetailText","StatusHeader","StatusText","OtherHeader","OtherText"],data:()=>({}),template:`\n\n<v-container fluid class="hidden-sm-and-down">\n      <v-row class=${e`
    .bgcolor {
        background-color: #fff!important;
        border-color: #fff!important;
    }

`} >\n        <v-col cols="12">\n          <v-row class="ml-5" align="end" justify="end" style="height: calc(100vh - 450px);overflow-y: hidden;" >\n            \x3c!-- outlined tile --\x3e\n            <div class="bgcolor ml-1 pa-0">\n              <v-col cols="12" class="blue-grey lighten-1 pr-0 mr-0" style="height:20px;border-radius: 0px 0px 20px 0px;"> </v-col>\n              <v-col cols="12" class="blue-grey lighten-1 pa-0 ma-0" style="border-radius: 0px 0px 0px 0px;">\n                <v-row class="pa-0 ma-0">\n                  <v-col cols="12" class="bgcolor pa-0 ma-0" style="height: 20px; border-radius: 20px 0px 0px 0px;"> </v-col>\n                </v-row>\n              </v-col>\n              <div class="pl-5 mr-8" style="min-width: 100px;">\n                <p v-if="TitleHeader" class="amber--text text--darken-4 font-weight-light pb-0 my-0">{{TitleHeader}}</p>\n                <p v-if="TitleHeader" class="title mb-2">{{TitleText}}</p>\n                <p v-if="DetailHeader" class="amber--text text--darken-4 font-weight-light py-0 my-0">{{DetailHeader}}</p>\n                <p v-if="DetailHeader" class="title mb-2">{{DetailText}}</p>\n                <p v-if="StatusHeader" class="amber--text text--darken-4 font-weight-light py-0 my-0">{{StatusHeader}}</p>\n                <p v-if="StatusHeader" class="mb-3" style="font-size:medium;font-weight: bold;letter-spacing:1px">\n                  <span style="padding-left:3px; padding-right: 3px;display:inline;-moz-box-decoration-break:clone;\n                      -webkit-box-decoration-break:clone;box-decoration-break:clone;">{{StatusText}}\n                  </span>\n                </p>\n                <p v-if="OtherHeader" class="amber--text text--darken-4 font-weight-light pb-0 my-0">{{OtherHeader}}</p>\n                <p v-if="OtherHeader" class="font-weight-light mb-2">{{OtherText}}</p>\n              </div>\n              <v-col cols="12" class="blue-grey lighten-1 pr-0 mr-0" style="height:20px;border-radius: 0px 20px 0px 0px;"> </v-col>\n            </div>\n          </v-row>\n        </v-col>\n      </v-row>\n    </v-container>\n\n    `}},template:'\n<div>\n    <v-navigation-drawer v-model="appDrawer" :clipped="$vuetify.breakpoint.smAndUp" app dark :width="$vuetify.breakpoint.xsOnly ? 270 : 250" class="blue-grey lighten-1">\n\n    <v-list nav dark class="blue-grey lighten-1">\n      <v-subheader class="hidden-sm-and-up">{{appConfig.name}}</v-subheader>\n\n      <v-list-item-group>\n        <v-list-item v-for="(menu, i) in routes"  :key="i" :to="menu.path" active-class="blue-grey darken-0" >\n          <v-list-item-icon>\n            <v-icon v-text="menu.icon"></v-icon>\n          </v-list-item-icon>\n          <v-list-item-content>\n            <v-list-item-title v-text="menu.title"></v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n\n        <v-list-group prepend-icon="local_library" no-action>\n          <template v-slot:activator>\n            <v-list-item-content>\n              <v-list-item-title>Learn</v-list-item-title>\n            </v-list-item-content>\n          </template>\n          <v-list-item v-for="menu in learnings" :key="menu.title" :href="menu.link" target="_blank" >\n            <v-list-item-content>\n              <v-list-item-title v-text="menu.title"></v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n      </v-list-group>\n\n      </v-list-item-group>\n\n      \x3c!-- Mobile only Menu items  --\x3e\n      <v-list-item active-class="blue-grey darken-0" class="hidden-sm-and-up">\n            <v-list-item-icon>\n              <v-icon>forum</v-icon>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title>Customer Service</v-list-item-title>\n            </v-list-item-content>\n      </v-list-item>\n      <v-list-item active-class="blue-grey darken-0"  class="hidden-sm-and-up">\n            <v-list-item-icon>\n              <v-icon>how_to_vote</v-icon>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title>Send Suggesstions</v-list-item-title>\n            </v-list-item-content>\n      </v-list-item>\n\n    </v-list>\n\n    <SideInfoPanel v-if="showSideInfo"\n      TitleHeader="Title" TitleText="Some Title"\n      DetailHeader="Detail" DetailText="Some a bit long detail here"\n      StatusHeader="Status" StatusText="Some Status" />\n\n  </v-navigation-drawer>\n\n  <v-app-bar :clipped-left="$vuetify.breakpoint.smAndUp" app :color="!$vuetify.theme.dark ? \'blue-grey\' : \'\'" dark>\n        <v-app-bar-nav-icon @click.stop="clickToggleDrawer"></v-app-bar-nav-icon>\n\n        <v-toolbar-title>{{appConfig.name}}</v-toolbar-title>\n\n        <v-spacer></v-spacer>\n\n\n        <v-tooltip bottom>\n            <template v-slot:activator="{ on }" v-if="!isInstalled">\n            <v-btn v-on="on" icon @click="install()">\n              <v-icon>download_for_offline</v-icon>\n            </v-btn>\n            </template>\n            <span>Get our free app. It won\'t take up space on your phone and also works offline!</span>\n          </v-tooltip>\n\n        <v-tooltip bottom>\n            <template v-slot:activator="{ on }">\n              <v-btn v-on="on" icon class="hidden-xs-only">\n                <v-icon>mdi-forum</v-icon>\n              </v-btn>\n            </template>\n            <span>Customer Service</span>\n          </v-tooltip>\n\n          <v-tooltip bottom>\n            <template v-slot:activator="{ on }">\n              <v-btn v-on="on" icon class="hidden-xs-only">\n                <v-icon>mdi-vote</v-icon>\n              </v-btn>\n            </template>\n            <span>Send Suggesstions</span>\n          </v-tooltip>\n\n            <v-menu left bottom>\n                <template v-slot:activator="{ on }">\n                  <v-btn text v-on="on" slot="activator" small="small" class="hidden-xs-only">{{user.googleInfo ? user.googleInfo.firstName : user.username}}</span>\n                      <v-icon>keyboard_arrow_down</v-icon>\n                    </v-btn>\n                </template>\n\n                <v-list >\n                  <v-list-item @click="install()" v-if="!isInstalled">\n                      <v-icon class="mr-2">download_for_offline</v-icon>\n                      <v-list-item-title>Install App</v-list-item-title>\n                  </v-list-item>\n                  <v-list-item @click="gotoRoute(\'/settings\')">\n                      <v-icon class="mr-2">settings</v-icon>\n                    <v-list-item-title>Settings</v-list-item-title>\n                  </v-list-item>\n                  <v-list-item @click.prevent="logout">\n                      <v-icon class="mr-2">exit_to_app</v-icon>\n                    <v-list-item-title>Logout</v-list-item-title>\n                  </v-list-item>\n                </v-list>\n              </v-menu>\n\n            <v-menu left bottom>\n                <template v-slot:activator="{ on }">\n                  <v-avatar color="red" :ripple="{ class: \'red--text\' }" v-on="on" slot="activator" class="mr-2" size="36"  >\n                    <img v-if="user && user.profilePic" :src="appConfig.apiBaseUrl + user.profilePic" />\n                    <span class="white--text text-h6">{{ user.username.substring(0,2).toUpperCase() }}</span>\n                  </v-avatar>\n                </template>\n\n                <v-list  class="hidden-sm-and-up">\n                  <v-list-item @click="() => {gotoRoute(\'/settings\')}">\n                      <v-icon class="mr-2">settings</v-icon>\n                    <v-list-item-title>Settings</v-list-item-title>\n                  </v-list-item>\n                  <v-list-item @click.prevent="logout">\n                      <v-icon class="mr-2">exit_to_app</v-icon>\n                    <v-list-item-title>Logout</v-list-item-title>\n                  </v-list-item>\n                </v-list>\n              </v-menu>\n\n      </v-app-bar>\n\n\n</div>\n\n'};var h={name:"AppLogin",components:{VueRecaptcha:t},directives:{GoogleSignInButton:Vue.directive("google-signin-button",{bind:function(e,t,n){!function(){if(!n.context.OnGoogleAuthSuccess)throw new Error("The method OnGoogleAuthSuccess must be defined on the component");if(!n.context.OnGoogleAuthFail)throw new Error("The method OnGoogleAuthFail must be defined on the component")}();let i=t.value,o=document.createElement("script");function a(e){n.context.OnGoogleAuthSuccess(e.getAuthResponse().id_token),e.disconnect()}function s(e){n.context.OnGoogleAuthFail(e)}o.setAttribute("src","https://apis.google.com/js/api:client.js"),document.head.appendChild(o),o.onload=function(){gapi.load("auth2",(()=>{gapi.auth2.init({client_id:i,cookiepolicy:"single_host_origin"}).attachClickHandler(e,{},a,s)}))}}})},data:()=>({login:{username:"admin",password:"admin123"},reg:{username:"",password:"",confirm:"",role:"user"},regEmpty:{},loading:!1,snackbar:{show:!1,text:""},step:1,hintConfirm:"",disabledNext:!1}),methods:{getToken(){this.loading=!0,axios.post(this.appConfig.apiBaseUrl+"/TOKEN?username="+this.login.username+"&password="+this.login.password).then((e=>{let t=e.data;if(!t||!t.token)throw{};c.commit("setUser",t),console.log("Authentication OK. ")})).catch((e=>{console.log(JSON.stringify(e.response)),this.loading=!1,this.snackbar.text="Invalid username and/or password.",this.snackbar.show=!0,this.$refs.username.focus()}))},async next(e){return 3===e&&(this.loading=!0,axios.post(this.appConfig.apiBaseUrl+"/api/account/register?username="+this.reg.username+"&password="+this.reg.password).then((e=>{this.loading=!1;let t=e.data.user;if(t&&t.userName)return this.login.username=t.userName,this.login.password="",this.step++,void this.$refs.password.focus();throw{}})).catch((e=>{console.log(JSON.stringify(e.response)),this.loading=!1,this.step=1,this.snackbar.text=e.response.data.message,this.snackbar.show=!0})),Object.assign(this.reg,this.regEmpty),this.appConfig.recaptchaKey&&this.$refs.googleRecaptcha.reset()),5!==this.step?this.step++:this.step=1},OnGoogleAuthSuccess(e){axios.post(this.appConfig.apiBaseUrl+"/GOOGLETOKEN?idToken="+e).then((e=>{let t=e.data;if(!t||!t.token)throw{};c.commit("setUser",t),console.log("Authentication OK. ")})).catch((e=>{console.log(e.message),this.loading=!1,this.snackbar.text="Invalid username and/or password.",this.snackbar.show=!0,this.$refs.username.focus()}))},OnGoogleAuthFail(e){console.log(e)}},mounted(){let e=localStorage.getItem("bingphotos");document.body.style.backgroundSize="cover",document.body.style.backgroundImage="url(https://bing.com"+(e?JSON.parse(e)[0].url:"/th?id=OHR.BurleighHeads_EN-US4425800469_1920x1080.jpg&rf=LaDigue_1920x1080.jpg&pid=hp")+")"},computed:{appConfig:function(){return c.getters.appConfig},currentTitle(){switch(this.step){case 1:return"Login";case 2:return"Sign-up";case 3:return this.disabledNext=!0,"Create a password";case 4:return"";default:return"Account created"}}},template:`\n\n    <v-container fluid fill-height class=${e`

.v-messages__message {
    color: red;
}

`}>\n        <v-row align="center" justify="center">\n            <v-col sm="4" class="text-xs-center">\n              <v-card class="elevation-12">\n                    <v-overlay :value="loading && step !== 1" absolute> <v-progress-circular indeterminate size="64" ></v-progress-circular> </v-overlay>\n                    <v-toolbar dark color="blue-grey">\n                        <v-toolbar-title>{{ currentTitle }}</v-toolbar-title>\n                        <v-spacer></v-spacer>\n                        <v-avatar v-if="step !== 1" color="blue-grey lighten-2 white--text" class="subheading" size="24" v-text="step-1" ></v-avatar>\n                        <v-tooltip left v-if="step === 1">\n                            <template v-slot:activator="{ on }">\n                            <v-btn v-on="on" icon dark @click="">\n                            <v-icon>vpn_key</v-icon>\n                            </v-btn>\n                            </template>\n                            <span>Forgot Password</span>\n                        </v-tooltip>\n                    </v-toolbar>\n\n\n                    <v-window v-model="step">\n                        <v-window-item :value="1">\n                        <v-card-text>\n                            <v-form @keyup.enter.native="getToken">\n                                <v-text-field v-model="login.username" prepend-icon="person" label="Username" ref="username"></v-text-field>\n                                <v-text-field type="password" v-model="login.password" prepend-icon="lock" label="Password" ref="password"></v-text-field>\n                                <v-btn color="blue-grey white--text" :loading="loading" block="block" @click.prevent="getToken" type="button" :disabled="loading">Sign in</v-btn>\n                                <v-spacer class="py-1"></v-spacer>\n                                <v-btn color="blue-grey" outlined block="block" @click.prevent="Object.assign(regEmpty,reg);step=2" type="button" :disabled="loading">Create New Account</v-btn>\n                                <v-spacer class="py-1"></v-spacer>\n                                <v-btn v-if="appConfig.clientId" v-google-signin-button="appConfig.clientId" color="primary" outlined large block="block" type="button" style="text-transform:none;letter-spacing:0em;font-weight:400;font-size:1.2em;">\n                                    \x3c!-- <v-icon right dark > mdi-google </v-icon> 4285f4 --\x3e\n                                    <v-img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" max-height="30" max-width="30" ></v-img>\n                                    <span class="pl-3">Continue with Google</span>\n                                </v-btn>\n                            </v-form>\n                        </v-card-text>\n                        </v-window-item>\n\n                        <v-window-item :value="2">\n                            <v-card-text class="px-4">\n                              <v-text-field v-model="reg.username" type="email" label="Email" :autofocus="true"></v-text-field>\n                              <span class="text-caption grey--text text--darken-1">\n                                This is the email you will use to login to your Chada account\n                              </span>\n                            </v-card-text>\n                          </v-window-item>\n\n                          <v-window-item :value="3">\n                            <v-card-text class="px-4">\n                              <v-text-field v-model="reg.password" label="Password" type="password" :autofocus="true"></v-text-field>\n                              <v-text-field v-model.lazy="reg.confirm" label="Confirm Password" type="password" :hint="reg.password && reg.confirm && reg.password !== reg.confirm ? 'Password not the same' : ''" persistent-hint ></v-text-field>\n                              <span class="text-caption grey--text text--darken-1">\n                                Please enter a password for your account\n                              </span>\n                              <v-spacer class="py-2"></v-spacer>\n                              <vue-recaptcha v-if="appConfig.recaptchaKey" ref="googleRecaptcha" :sitekey="appConfig.recaptchaKey" :loadRecaptchaScript="true" @verify="disabledNext=false"></vue-recaptcha>\n                            </v-card-text>\n                          </v-window-item>\n\n                          <v-window-item :value="4">\n                            <div class="pa-4 text-center">\n                              <h3 class="text-h6 font-weight-light mb-2"> Please wait... </h3>\n                              <span class="text-caption grey--text">This would be quick.</span>\n                            </div>\n                          </v-window-item>\n\n                          <v-window-item :value="5">\n                            <div class="pa-4 text-center">\n                              <v-img class="mb-4" contain height="128" src="https://cdn.vuetifyjs.com/images/logos/v.svg" ></v-img>\n                              <h3 class="text-h6 font-weight-light mb-2"> Welcome to Chada! </h3>\n                              <span class="text-caption grey--text">Thanks for signing up.</span>\n                            </div>\n                          </v-window-item>\n\n                    </v-window>\n                    <v-card-actions>\n                        <v-btn v-if="step !== 1 && step !== 5" text @click="step--" > Back </v-btn>\n                        <v-spacer></v-spacer>\n                        <v-btn  v-if="step !== 1" :disabled="(step === 2 && !reg.username) || (step === 3 && (!reg.password || reg.password !== reg.confirm || (disabledNext && !(!appConfig.recaptchaKey)) ))" color="primary" depressed @click="next(step)" > Next </v-btn>\n                      </v-card-actions>\n              </v-card>\n            </v-col>\n        </v-row>\n\n\n        <v-snackbar v-model="snackbar.show" top :timeout="8000" color="purple darken-3">\n            <span class="float-left">{{ snackbar.text }}</span>\n            <v-btn class="float-right" color="warning" x-small @click="snackbar.show = false"> x </v-btn>\n        </v-snackbar>\n\n\n      </v-container>\n\n    `},g={name:"useCookiePWA",data:()=>({deferredPrompt:null}),created(){window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),void 0===n.get("add-to-home-screen")&&(this.deferredPrompt=e,localStorage.removeItem("pwa_"+window.location.hostname))})),window.addEventListener("appinstalled",(()=>{this.deferredPrompt=null,localStorage.setItem("pwa_"+window.location.hostname,!0)})),this.$root.$on("appInstall",(async()=>{await this.install()}))},methods:{async dismiss(){n.set("add-to-home-screen",null,{expires:15}),this.deferredPrompt=null},async install(){try{this.deferredPrompt.prompt();"accepted"===(await this.deferredPrompt.userChoice).outcome&&(localStorage.setItem("pwa_"+window.location.hostname,!0),this.$root.$emit("isInstalled"))}catch{}}}},f={name:"ReloadPrompt",mixins:[{name:"useRegisterSW",data:()=>({updateSW:void 0,offlineReady:!1,needRefresh:!1}),async mounted(){try{const{registerSW:e}=await s((()=>import("./virtual_pwa-register.93d5579f.js")),void 0),t=this;this.updateSW=e({immediate:!0,onOfflineReady(){t.offlineReady=!0,t.onOfflineReadyFn()},onNeedRefresh(){t.needRefresh=!0,t.onNeedRefreshFn()}})}catch{console.log("PWA disabled.")}},methods:{async closePrompt(){this.offlineReady=!1,this.needRefresh=!1},onOfflineReadyFn(){console.log("onOfflineReady")},onNeedRefreshFn(){console.log("onNeedRefresh")},updateServiceWorker(){this.updateSW&&this.updateSW(!0)}}}],template:'\n\n\n<v-snackbar :value="offlineReady || needRefresh" timeout="-1" right>\n    <v-row align="center" justify="center">\n      <v-col cols="2" sm="1">\n        <v-icon large>info</v-icon>\n      </v-col>\n      <v-col cols="8" sm="10" class="ml-3 mr-n3">\n        <div v-if="offlineReady"> App ready to work offline </div>\n        <div v-else> New content available,  click on reload button to update. </div>\n        <v-btn v-if="needRefresh" class="mt-2" color="indigo" @click="updateServiceWorker" > Reload </v-btn>\n      </v-col>\n      <v-col cols="2" sm="1">\n        <v-btn icon @click="closePrompt"> <v-icon>clear</v-icon> </v-btn>\n      </v-col>\n    </v-row>\n  </v-snackbar>\n\n'};Vue.use(Vuetify),new Vue({el:"#app",vuetify:new Vuetify,router:m,mixins:[g],components:{"app-main":u,Login:h,ReloadPrompt:f},mounted(){if(document.getElementsByTagName("html")[0].style.overflowY="hidden",!navigator.onLine){let e=localStorage.getItem(this.appConfig.storageName);e&&c.commit("setUser",JSON.parse(e),!0)}this.$vuetify.theme.dark=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches},computed:{authorized:function(){return null!=c.getters.user},appConfig:function(){return c.getters.appConfig}},template:'\n\n<v-app :style="(!authorized ? \'background: rgba(0,0,0,0)\' : \'\')" class="-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;-webkit-touch-callout: none;">\n    <ReloadPrompt />\n    <v-banner v-if="deferredPrompt && !authorized" color="info" dark class="text-left">\n      Get our free app. It won\'t take up space on your device and also works offline!\n      <template v-slot:actions>\n        <v-btn text @click="dismiss">Dismiss</v-btn>\n        <v-btn text @click="install">Install</v-btn>\n      </template>\n    </v-banner>\n    <app-main v-if="authorized"></app-main>\n    <v-main v-if="authorized" style="height: 100vh;overflow-y: auto;">\n      <router-view></router-view>\n    </v-main>\n    <Login v-if="!authorized" />\n</v-app>\n\n'});
